import{o as t,c as s,D as _,a as f,B as g,E as i,t as h,q as k,A as p,F as y,O as C,r as v,P as M}from"./index-YV02AcbJ.js";const w=["onClick","onDblclick"],D={key:0},O={key:0},V={__name:"MenuCom",props:{model:Array},setup(d){function r(e){return e.children&&e.children.length>0}function c(e){e.isOpen=!e.isOpen}function l(e){e.children||(e.children=[],addChild(e),e.isOpen=!0)}return(e,o)=>{const a=C("MenuCom",!0);return t(!0),s(y,null,_(d.model,n=>(t(),s("li",{key:n.id},[f("div",{class:k({bold:r(n)}),onClick:u=>c(n),onDblclick:u=>l(n)},[g(i(n.region)+" ",1),r(n)?(t(),s("span",D,"["+i(n.isOpen?"-":"+")+"]",1)):h("",!0)],42,w),r(n)&&n.isOpen?(t(),s("ul",O,[p(a,{model:n.children},null,8,["model"])])):h("",!0)]))),128)}}},E={key:0},$={key:1},m={__name:"MenuView",setup(d){const r=v([]);M(()=>{c()});async function c(){try{const e=await fetch("https://localhost:7135/api/MenuGetVueControllers/getMenu");if(!e.ok)throw new Error("Failed to fetch menu data");const o=await e.json();r.value=l(o)}catch(e){console.error("Error fetching or processing data:",e)}}function l(e){const o=new Map,a=[];return e.forEach(n=>{o.has(n.id)||o.set(n.id,{...n,children:[]}),n.root===null?a.push(o.get(n.id)):o.get(n.root).children.push(o.get(n.id))}),a}return(e,o)=>(t(),s("div",null,[r.value.length>0?(t(),s("ul",E,[p(V,{model:r.value},null,8,["model"])])):(t(),s("div",$," Loading... "))]))}};export{m as default};
